WASHINGTON —The Obama administration suspects that the fiery attack in Libya that killed the American ambassador and three other diplomats may have been planned rather than a spontaneous mob getting out of control, American officials said Wednesday.

Officials in Washington studying the events of the past 24 hours have focused on the differences between the protests on the American embassy in Cairo and the attack on the consulate in Benghazi, the Libyan city where Ambassador J. Christopher Stevens and the other Americans were killed.

The protesters in Cairo appeared to be a genuinely spontaneous unarmed mob angered by an anti-Islam video produced in the United States. By contrast, it appeared the attackers in Benghazi were armed with mortars and rocket-propelled grenades. Intelligence reports are inconclusive at this point, officials said, but indications suggest the possibility that an organized group had either been waiting for an opportunity to exploit like the protests over the video or perhaps even generated the protests as a cover for their attack.

President Obama strongly condemned the killings and ordered increased security at American diplomatic posts around the world. American defense officials said 50 Marines were en route to Libya to strengthen security at United States diplomatic facilities, and the State Department ordered all “nonemergency” personnel out of the country, suggesting that further attacks were possible.

The death of Mr. Stevens was the first of an American envoy abroad in more than two decades.

“These four Americans stood up for freedom and human dignity,” Mr. Obama said in a televised statement. “Make no mistake: we will work with the Libyan government to bring to justice the killers who attacked our people.”

Mr. Obama also offered praise for the Libyan government, noting that Libyan security forces fought back against the mob, helped protect American diplomats and took Mr. Stevens’s body to the hospital. “This attack will not break the bonds between the United States and Libya,” he said.

The attack at the compound in Benghazi was far more deadly than administration officials first announced on Tuesday night, when Secretary of State Hillary Rodham Clinton said one American had been killed and one injured.

Another of those killed was Sean Smith, an information management officer who joined the Foreign Service 10 years ago, Mrs. Clinton said in a statement. The State Department did not identify the other two, pending notification of their relatives. Mr. Smith, who was a husband and father of two, previously served in Iraq, Canada and the Netherlands.

Neither Mr. Obama nor Mrs. Clinton disclosed details of the attack, and it was unclear precisely how Mr. Stevens or the others had died.

Mr. Stevens took up his ambassador post in May after having served as an envoy to the Libyan rebels who overthrew Libya’s leader, Col. Muammar el-Qaddafi, last year. He was widely admired by the Libyan rebels for his support of their struggle.

“While the United States rejects efforts to denigrate the religious beliefs of others, we must all unequivocally oppose the kind of senseless violence that took the lives of these public servants,” Mr. Obama said, calling Mr. Stevens “a courageous and exemplary representative of the United States” who had “selflessly served our country and the Libyan people at our mission in Benghazi” and, as ambassador, “supported Libya’s transition to democracy.”

The killings put an enormous new strain on Washington’s relations with the new Libyan government that took over after the ouster of Colonel Qaddafi, and they threatened to sour American public opinion about the prospects of the democratic opening of the Arab Spring.

The news of the deaths emerged on Wednesday after violence spilled over the American Consulate in Benghazi and demonstrators stormed the fortified walls of the American Embassy in Cairo. Anti-American protests also were reported in Gaza, and the Taliban in Afghanistan called on Afghans to “take revenge” on American targets there.

Few details of the way events unfolded in Benghazi were immediately available, but the killing of the ranking American official in Libya raised questions about the vulnerability of American officials at a time when the profound changes sweeping the Arab world have hardly dispelled the rage against the United States that still smolders in pockets around the region.

The president of Libya’s National Assembly, Mohammed Magarief, apologized for the attack, describing it as “cowardly” and offering condolences, The Associated Press reported. Speaking to reporters, he said the culprits would be brought to justice and pledged to maintain close relations with the United States.

Tuesday’s violence came on the 11th anniversary of the terrorist attacks of Sept. 11, 2001, and was initially attributed to anger over a 14-minute trailer for the American video, called “Innocence of Muslims,” that was released on the Web.

An unidentified Libyan official in Benghazi told Reuters that Mr. Stevens and three staff members were killed in Benghazi “when gunmen fired rockets at them.” The Libyan official said the ambassador was being driven from the consulate building to a safer location when gunmen opened fire, Reuters said.

Agence France-Presse quoted the Libyan Interior Ministry as saying that Mr. Stevens and the three staff members were killed when a mob attacked the consulate in Benghazi. Al Jazeera’s English-language Web site said Mr. Stevens died of smoke inhalation after a mob set fire to the building, and a Libyan physician who treated Mr. Stevens at the hospital was quoted by The Associated Press as saying he had tried to revive him for 90 minutes.

In Italy, the Web site of the newspaper Corriere della Sera showed images of what it said was the American Consulate in Benghazi ablaze with men carrying automatic rifles and waving V-for-victory signs, silhouetted against the burning buildings. One photograph showed a man closely resembling Mr. Stevens apparently unconscious, his face seeming to be smudged with smoke and his eyes closed.

