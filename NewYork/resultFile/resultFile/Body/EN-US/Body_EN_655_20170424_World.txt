PARIS — In France’s most consequential election in recent history, voters on Sunday endorsed Emmanuel Macron and Marine Le Pen — one a political novice, the other a far-right firebrand — both outsiders but with starkly different visions for the country, early returns and projections indicated.

The result was a full-throated rebuke of France’s traditional mainstream parties, setting the country on an uncertain path at a critical moment when France’s election could also decide the future of the European Union. The two candidates appeared to be headed to a runoff on May 7.

Mr. Macron, a former investment banker, abandoned traditional parties a year ago to form his own movement with an eclectic blend of left and right views. He campaigned on a pro-European Union platform, coupled with calls to overhaul the rules governing the French economy.

“The French people have decided to put me ahead of the first round of the vote,” Mr. Macron told jubilant supporters at a rally in Paris. “I’m aware of the honor and the responsibility that rest on my shoulders.”

Ms. Le Pen’s success is a victory for skeptics who oppose the European Union and for those who want to see more “France first” policies to restrict signs of Muslim faith in public, like the wearing of head scarves.

“The great debate will finally take place,” Ms. Le Pen said on Twitter. “French citizens need to seize this historic opportunity.”

Ms. Le Pen spoke later to supporters in the small town of Hénin-Beaumont in northern France, and although the final results were unclear, she could claim a victory of sorts. Not only will she be in the runoff for the first time, but she also got a higher percentage of votes than she did in 2012, and a higher percentage than her father, Jean-Marie Le Pen, did in 2002, when he made it to the second round as the candidate for the far-right National Front.

She said the outcome was “an act of French pride, that of a people who are raising up their heads, that of a people sure of their values and confident of the future.”

Few analysts give her much of a chance of winning in the second round, however. Even before official results were announced, the political establishment was rallying behind Mr. Macron, warning of the dangers of a victory by Ms. Le Pen’s National Front.

Bernard Cazeneuve, the sitting Socialist prime minister, called Ms. Le Pen’s project “dangerous and sectarian” and said it would “impoverish, isolate and divide” the country.

“It will inevitably lead to the end of Europe and of the euro, and, eventually, to France’s relegation,” he said. “The National Front cannot be the future of our country.”

For now, voters narrowly embraced Mr. Macron’s centrist calls for change over more strident appeals from the far left and the far right for France to fortify itself against immigration and globalization.

His success also suggests that despite multiple terrorist attacks in France recently, a message of outreach to immigrants and an acceptance of Muslims as well as of ethnic diversity has some currency. Ms. Le Pen campaigned stridently against Muslim immigration, linking it to security threats, and she may have benefited from a final surge of support after a terrorist attack in Paris on Thursday.

In his address to supporters as the returns were still being tabulated, Mr. Macron emphasized that he wanted to be the president of all of France. But the results showed that the country remains deeply divided.

Four candidates with markedly different views came within a few points of one another in the vote on Sunday, suggesting that the fight about what vision of France will dominate the future is far from over.

The far-left candidate, Jean-Luc Mélenchon, refused to accept early projections that indicated his defeat.

But the mainstream right candidate, François Fillon, conceded, saying that he had failed to “convince” the French. “The obstacles put on my path were too numerous, too cruel,” he said, obliquely referring to embezzlement scandals that swirled around his campaign.